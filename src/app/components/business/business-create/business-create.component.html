<div class="business-create">
  <h2><i class="pi pi-building"></i> Crear Nuevo Negocio</h2>

  <p-card>
    <form [formGroup]="businessForm" (ngSubmit)="crearNegocio()">
      <div class="p-fluid form-group">
        <label for="nombre">Nombre:</label>
        <input id="nombre" pInputText formControlName="nombre" placeholder="Ingrese el nombre" />
        <small *ngIf="businessForm.controls['nombre'].invalid && businessForm.controls['nombre'].touched" class="error">
          Nombre es obligatorio (mín. 3 caracteres).
        </small>
      </div>

      <div class="p-fluid form-group">
        <label for="direccion">Dirección:</label>
        <input id="direccion" pInputText formControlName="direccion" placeholder="Ingrese la dirección" />
        <small *ngIf="businessForm.controls['direccion'].invalid && businessForm.controls['direccion'].touched" class="error">
          Dirección es obligatoria.
        </small>
      </div>

      <div class="p-fluid form-group">
        <label for="contacto">Contacto:</label>
        <p-inputMask id="contacto" formControlName="contacto" mask="(999) 999-9999" placeholder="(123) 456-7890"></p-inputMask>
        <small *ngIf="businessForm.controls['contacto'].invalid && businessForm.controls['contacto'].touched" class="error">
          Formato inválido (ej: (123) 456-7890).
        </small>
      </div>

      <div class="p-fluid form-group">
        <label for="coordenadas">Coordenadas:</label>
        <input id="coordenadas" pInputText formControlName="coordenadas" placeholder="Ej: 40.7128, -74.0060" />
      </div>

      <div class="buttons">
        <p-button type="submit" label="Crear Negocio" icon="pi pi-check" class="p-button-success"></p-button>
        <p-button type="button" label="Cancelar" icon="pi pi-times" class="p-button-secondary" (click)="router.navigate(['/business-list'])"></p-button>
      </div>
    </form>
  </p-card>

  <!-- Mensajes de Éxito/Error -->
  <p-toast></p-toast>
</div>
